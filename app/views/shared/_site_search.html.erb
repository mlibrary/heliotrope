<% if params['controller'] == 'monograph_catalog' %>
  <% catalog_url = main_app.monograph_catalog_path(params[:id]) %>
<% elsif params['controller'] == 'hyrax/file_sets' && !@presenter.nil? %>
  <% catalog_url = main_app.monograph_catalog_path(@presenter.monograph_id) %>
<% else %>
  <% catalog_url = main_app.search_catalog_path %>
<% end %>

<%= form_tag catalog_url, method: :get, class: "search-form navbar-left navbar-form" do %>
  <fieldset>
    <legend class="sr-only">Search <%= application_name %></legend>
    <%= render_hash_as_hidden_fields(search_state.params_for_search.except(:q, :search_field, :qt, :page, :utf8, :partial)) %>
    <div class="input-group">
      <%= label_tag :catalog_search, t('hyrax.search.form.q.label'), class: "sr-only" %>
      <%= text_field_tag(:q, params[:q], class: "q search-query form-control", id: "catalog_search",
                         placeholder: t('hyrax.search.form.q.placeholder'), tabindex: "0", type: "search") %>
      <div class="input-group-btn">
        <button type="submit" class="search-submit btn btn-primary" id="keyword-search-submit" tabindex="0">
          <i class="glyphicon glyphicon-search"></i><span class="sr-only">Search</span>
        </button>
      </div>
    </div>
  </fieldset>
<% end %>
