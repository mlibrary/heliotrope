<h1>Jobs</h1>
<div class="container mr-auto">
  <div class="row">
    <div class="col-6 card">
      <div class="row">
        <h2>Unpack</h2>
      </div>
      <div class="row">
        <form name="unpack" method="get" action="<%= fulcrum_exec_path(:unpack) %>">
          <div class="form-group">
            <label for="unpack_noid">NOID</label>
            <input type="text" id="unpack_noid" name="noid" value="validnoid">
          </div>
          <div class="form-group">
            <label for="kind">Kind&nbsp&nbsp&nbsp</label>
            <select name="kind" id="kind">
              <option value="epub">epub</option>
              <option value="interactive_map">interactive_map</option>
              <option value="pdf_ebook">pdf_ebook</option>
              <option value="webgl">webgl</option>
            </select>
          </div>
          <button class="btn btn-primary" name="submit" type="submit" value="unpack">Unpack</button>
        </form>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-6 card">
      <div class="row">
        <h2>Ingest</h2>
      </div>
      <div class="row">
        <form name="ingest" method="get" action="<%= fulcrum_exec_path(:ingest) %>">
          <div class="form-group">
            <label for="token">Token</label>
            <input type="text" id="token" name="token" value="JSON WEB TOKEN">
          </div>
          <div class="form-group">
            <label for="base">Base</label>
            <input type="text" id="base" name="base" value="https://www.fulcrum.org/api">
          </div>
          <div class="form-group">
            <label for="ingest_noid">NOID</label>
            <input type="text" id="ingest_noid" name="noid" value="validnoid">
          </div>
          <div class="form-group">
            <label for="target">Target</label>
            <%= select_tag "target", options_for_select(Press.all.collect { |press| [press.subdomain, press.subdomain] }, 'heliotrope') %>
          </div>
          <button class="btn btn-primary" name="submit" type="submit" value="ingest">Ingest</button>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-6 card">
      <div class="row">
        <h2>Handle</h2>
      </div>
      <div class="row">
        <form name="handle" method="get" action="<%= fulcrum_exec_path(:handle) %>">
          <label for="handle_noid">NOID</label>
          <input type="text" id="handle_noid" name="noid" value="validnoid">
          <label for="handle_job">Action</label>
          <select name="job" id="handle_job">
            <option value="create">create</option>
            <option value="delete">delete</option>
            <option selected="selected" value="verify">verify</option>
          </select>
          <button class="btn btn-primary" name="submit" type="submit" value="handle">Handle</button>
        </form>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-6 card">
      <div class="row">
        <h2>APTrust</h2>
      </div>
      <div class="row">
        <form name="aptrust" method="get" action="<%= fulcrum_exec_path(:aptrust) %>">
          <label for="aptrust_noid">NOID</label>
          <input type="text" id="aptrust_noid" name="noid" value="validnoid">
          <label for="aptrust_job">Action</label>
          <select name="job" id="aptrust_job">
            <option value="deposit">deposit</option>
            <option selected="selected" value="verify">verify</option>
          </select>
          <button class="btn btn-primary" name="submit" type="submit" value="aptrust">Aptrust</button>
        </form>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-6 card">
      <div class="row">
        <h2>Migrate</h2>
      </div>
      <div class="row">
        <form name="migrate" method="get" action="<%= fulcrum_exec_path(:migrate) %>">
          <label for="migrate_noid">NOID</label>
          <input type="text" id="migrate_noid" name="noid" value="validnoid">
          <label for="migrate_job">Kind</label>
          <select name="job" id="migrate_job">
            <option value="transcript">transcript</option>
          </select>
          <button class="btn btn-primary" name="submit" type="submit" value="migrate">Migrate</button>
        </form>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-6 card">
      <div class="row">
        <h2>Maintenance</h2>
      </div>
      <div class="row">
        <%= link_to(fulcrum_exec_path(:recache_in_common_metadata), method: :get, class: "btn btn-primary", data: { confirm: 'Are you sure?' }) do %>
          <span class="fa fa-wrench" aria-hidden="true"></span> Recache InCommon Metadata
        <% end %>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-6 card">
      <div class="row">
        <h2>Reindex</h2>
      </div>
      <div class="row">
        <form name="reindex" method="get" action="<%= fulcrum_exec_path(:reindex) %>">
          <label for="reindex_noid">NOID</label>
          <input type="text" id="reindex_noid" name="noid" value="validnoid">
          <button class="btn btn-primary" name="submit" type="submit" value="reindex">Reindex</button>
        </form>
      </div>
      <div class="row">
        <div class="col">
        <%= link_to(fulcrum_exec_path(:reindex_everything), method: :get, class: "btn btn-primary", data: { confirm: 'Are you sure?' }) do %>
            <span class="fa fa-wrench" aria-hidden="true"></span> Reindex Everything
          <% end %>
        </div>
        <div class="col">
          <%= link_to(fulcrum_exec_path(:reindex_monographs), method: :get, class: "btn btn-primary", data: { confirm: 'Are you sure?' }) do %>
            <span class="fa fa-wrench" aria-hidden="true"></span> Reindex Monographs
          <% end %>
        </div>
        <div class="col">
          <%= link_to(fulcrum_exec_path(:reindex_file_sets), method: :get, class: "btn btn-primary", role: "button", data: { confirm: 'Are you sure?' }) do %>
            <span class="fa fa-wrench" aria-hidden="true"></span> Reindex Resources
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
